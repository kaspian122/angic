<mat-card>
  <mat-card-title>Создание нового МКД</mat-card-title>
  <mat-divider></mat-divider>
  <mat-card-content>


    <section *ngIf="form && mkdEnums">

      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div formGroupName="mkd">
          <h3>Сведения МКД</h3>

          <mat-grid-list cols="5" gutterSize="20" rowHeight="4em">
            <mat-grid-tile colspan="4">
              <mat-form-field class="fullwidth">
                <input matInput formControlName="address" placeholder="Адрес" tabindex="1" autocomplete="off"/>
                <mat-error *ngIf="f('mkd.address').invalid">{{e('mkd.address')}}</mat-error>
              </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile>
              <mat-form-field class="fullwidth">
                <input matInput formControlName="area" placeholder="Площадь дома" tabindex="2" autocomplete="off"/>
                <mat-error *ngIf="f('mkd.area').invalid">{{e('mkd.area')}}</mat-error>
              </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile colspan="2">
              <mat-form-field class="fullwidth">
                <mat-select formControlName="administrationType" placeholder="Способ управления" tabindex="3">
                  <mat-option *ngFor="let type of mkdEnums.AdministrationType" [value]="type">{{type.name}}</mat-option>
                </mat-select>
                <mat-error *ngIf="f('mkd.administrationType').invalid">{{e('mkd.administrationType')}}</mat-error>
              </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile>
              <mat-form-field class="fullwidth">
                <input matInput formControlName="floorCount" maxlength="2" placeholder="Кол-во этажей" tabindex="4" autocomplete="off"/>
                <mat-error *ngIf="f('mkd.floorCount').invalid">{{e('mkd.floorCount')}}</mat-error>
              </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile>
              <mat-form-field class="fullwidth">
                <input matInput formControlName="porchCount" maxlength="2" placeholder="Кол-во подъездов" tabindex="5" autocomplete="off"/>
                <mat-error *ngIf="f('mkd.porchCount').invalid">{{e('mkd.porchCount')}}</mat-error>
              </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile>
              <mat-form-field class="fullwidth">
                <input matInput formControlName="apartmentCount" placeholder="Кол-во квартир" tabindex="6" autocomplete="off"/>
                <mat-error *ngIf="f('mkd.apartmentCount').invalid">{{e('mkd.apartmentCount')}}</mat-error>
              </mat-form-field>
            </mat-grid-tile>


          </mat-grid-list>
        </div>
        <div formGroupName="user">
          <h3>Сведения Администратора системы</h3>

          <mat-grid-list cols="2" gutterSize="20" rowHeight="4em">

            <mat-grid-tile>
              <mat-form-field class="fullwidth">
                <span matPrefix>+7 &nbsp;</span>
                <input matInput formControlName="phone" type="tel" placeholder="Телефон" tabindex="7" (blur)="phoneBlur()" (keyup)="phoneKeyup()" autocomplete="off"/>
                <mat-error *ngIf="f('user.phone').invalid">{{e('user.phone')}}</mat-error>
              </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile>
              <mat-form-field class="fullwidth">
                <input matInput formControlName="lastName" placeholder="Фамилия" tabindex="9" autocomplete="off"/>
                <mat-error *ngIf="f('user.lastName').invalid">{{e('user.lastName')}}</mat-error>
              </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile>
              <mat-form-field class="fullwidth">
                <input matInput formControlName="email" placeholder="Эл. почта" tabindex="8" autocomplete="off"/>
                <mat-error *ngIf="f('user.email').invalid">{{e('user.email')}}</mat-error>
              </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile>
              <mat-form-field class="fullwidth">
                <input matInput formControlName="firstName" placeholder="Имя"  tabindex="10" autocomplete="off"/>
                <mat-error *ngIf="f('user.firstName').invalid">{{e('user.firstName')}}</mat-error>
              </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile></mat-grid-tile>
            <mat-grid-tile>
              <mat-form-field class="fullwidth">
                <input matInput formControlName="secondName" placeholder="Отчество"  tabindex="11" autocomplete="off"/>
                <mat-error *ngIf="f('user.secondName').invalid">{{e('user.secondName')}}</mat-error>
              </mat-form-field>
            </mat-grid-tile>

          </mat-grid-list>
        </div>

        <div style="text-align: right">
          <button mat-raised-button
                  type="submit" #sbmt
                  tabindex="12"
                  [disabled]="form.pristine || form.status == 'INVALID' || loader"

          >
            <mat-icon *ngIf="loader" class="spinner">autorenew</mat-icon>
            Создать
          </button>
        </div>
        <!--<a mat-raised-button (click)="log()">Test</a>-->
      </form>

      <!--<pre style="font-size: 9px;">{{ chairmanForm.value | json }}</pre>-->
    </section>

  </mat-card-content>
</mat-card>
